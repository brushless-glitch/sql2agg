<html lang="en">
    <head>
        <meta content="text/html;charset=utf-8" http-equiv="Content-Type">
        <meta content="utf-8" http-equiv="encoding">
        <meta http-equiv="cache-control" content="no-cache" />
        <script src="bundle.js"></script>
    </head>

    <body style="height: 100%" onload="sql2agg(sql, mql)">
        <h1>SQL to MongoDB aggregate</h1>
        <table style="width:100%; height:90%;">
            <tr style="height:100%">
                <td>
                    <textarea id="sql" style="width:100%; height:100%" 
                        onchange="sql2agg(this, mql)"
                        oninput="sql2agg(this, mql)"
                    >-- Test SQL statement

-- Keywords are case-insensitive
select 
    -- Verbatim fields
    field1, field2,
    -- name = field supported
    just_name = first_name,
    -- Text concatenation
    full_name = first_name + ' ' + last_name
FROM t1
    -- See README for limitations on joins
    LEFT OUTER JOIN t2 ON t1.xx =  t2.zz
    LEFT JOIN t3 ON t1.yy =  t3.zzz

WHERE 

    -- Use parenthesis to combine logical operators
    ((f4=977) and f5>=555) and (f6>6 or f7<=2)
    -- BETWEEN operator supported
    or f8 between 7 and 20
    -- IN operator supported using $in
    and f9 in (1,2,3,15,222)
    -- text comparison
    or t1 = 'blablabla'
    -- LIKE operator translated to $regex
    or city like 'L_s %'
                                      

                    </textarea>
                </td>
                <td>
                    <textarea id="mql" readonly="true" style="width:100%; height:100%">MQL</textarea>
                </td>
            </tr>
        </table>
    </body>
</html>
